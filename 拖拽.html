<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		div {
			position: absolute;
			width: 200px;
			height: 200px;
			background: yellowgreen;
		}
	</style>
	<script>
		window.onload = function(){
			var oDiv = document.getElementsByTagName("div")[0];	
			oDiv.onmousedown = function (ev){
				var oEvent = ev||event;
				
				var disX = oEvent.clientX-oDiv.offsetLeft; /*鼠标在div元素上 距离左边的距                                             离*/
				var disY = oEvent.clientY-oDiv.offsetTop;
				
			
				document.onmousemove = function (ev){
					var oEvent = ev||event;
					var l = oEvent.clientX - disX; //div 距离左边的距离
					var t = oEvent.clientY - disY; //div 距离上边的距离
					
					if(l<50){
						l = 0;
					}else if(l>document.documentElement.clientWidth-oDiv.offsetWidth)
					 {
								l = document.documentElement.clientWidth-oDiv.offsetWidth;	 
					 }
					
					if(t<50){
						t = 0;
					}else if (t>document.documentElement.clientHeight-oDiv.offsetHeight)
						{
							  t = document.documentElement.clientHeight-oDiv.offsetHeight;
						}
					oDiv.style.left = l+"px";
					oDiv.style.top = t+"px";
				}
				
				document.onmouseup = function (ev){
					document.onmousemove = null;
					document.onmouseup = null;
				}
				
				return false;   //兼容FF
			}	
		}
	</script>
</head>
<body>
	<div></div>
</body>
</html>